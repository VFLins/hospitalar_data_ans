---
title: "Dados hospitalares da saúde suplementar"
params:
  css_file: assets/style.css
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(bslib)
library(htmltools)
library(bsicons)
```

```{css, code = readLines(params$css_file), echo=FALSE}

```

----------

![](assets/gh_banner-hospitalar-data-ans.png)

Projeto de Ciência de dados com o objetivo de abrangir todas as etapas do papel de um cientista de dados!

Aqui vamos seguir toda a *pipeline* de um projeto de dados, desde a extração até a entrega de um modelo com valor de negócios, voltado para o setor de saúde, por [Vitor Ferreira Lins](https://sites.google.com/view/vflins/sobre-mim).

----------

# Que dados estamos usando?

A **Agência Nacional de Saúde Suplementar (ANS)** é responsável por regular as ***operadoras de saúde*** (empresas que oferecem planos e seguros de saúde). Esta agência iniciou o **Plano de Dados abertos (PDA)**, que consiste em solicitar dados para divulgação pública com diversos propósitos, desde o acesso à informação por parte do público como também para ajudar na regulação por parte do próprio órgão.

O PDA possui dados para internações e procedimentos hospitalares e ambulatoriais, mas nesta análise serão tratados apenas os dados de origem hospitalar. A análise realizada aqui é feita a partir de um recorte aleatório de dados do **Padrão para Troca de Informação de Saúde Suplementar (TISS)** para todos os estados do Brasil, mas apenas ao longo do ano de 2019.

# Quem seria beneficiado por esta solução?

Este conjunto de dados oferece informações pertinentes às próprias **operadoras de saúde**, a base contém informações anonimizadas sobre:

- Os clientes;
- As operadoras;
- O serviço hospitalar.

Entre as variáveis disponíveis, as que podem oferecer mais valor são a 1- *classificação CID da doença* e 2- o *valor pago pela operadora*.

Fazendo o cruzamento com outro conjunto de dados, esta primeira pode ajudar um hospital a decidir que tipo de equipamentos e profissionais seriam mais necessários em sua região. Já com a segunda, podemos usar os dados já disponíveis para produzir um modelo que ajude a antecipar o custo de aquisição de um determinado cliente.

Como neste projeto não vamos cruzar a base de dados com nenhuma outra fonte externa, este projeto tem o foco em produzir uma solução para operadoras de saúde.

# Qual é o objetivo deste projeto?

Este projeto foi desenvolvido de 2021 à 2022 com o *objetivo inicial* obter dados hospitalares de 2021 da ANS e desenvolver uma análise e um modelo de previsão de acionamentos de seguros.

Em 2024 este projeto recebeu um upgrade para torná-lo mais realista e completo, usando tecnologias mais avançadas e aplicando novos conhecimentos de análise e modelagem que adquiri durante este tempo.

Além de aplicar novos conhecimentos, outro objetivo deste *remake* é abordar mais dos âmbitos da profissão de Cientista de Dados, adicionanado outras etapas posteriores às apresentadas antes:

- Avaliar e acompanhar o desempenho do modelo com novos dados
- Apresentação dos resultados

Sinta-se livre para navegar entre os materiais relevantes abaixo!

```{r vbs_remake, echo = FALSE}
default_vb_theme <- value_box_theme(bg = "#BF4B4B", fg = "#F5F5F5")

value_boxes_orig <- list(
    value_box(
        title = "1ª Etapa",
        value = HTML("<a href='https://github.com/VFLins/hospitalar_data_ans/blob/main/src/collector_saude-pda-tiss-hosp-2019.py'>Coleta de dados</a>"),
        showcase = bs_icon("database-fill-down"),
        fill = FALSE,
        theme = default_vb_theme,
        p("ETL (Extract, Transform, Load) nos dados da Troca de Informações da Saúde Suplementar (TISS) no período de 2019. Os dados estão presentes em servidores FTP e foram coletados e armazenados localmente em um banco de dados relacional.")
    ),

    HTML("<br />"),

    value_box(
        title = "2ª Etapa",
        value = HTML("<a href='https://vflins.github.io/hospitalar_data_ans/pages/eda.html'>Análise exploratória de dados</a>"),
        showcase = bs_icon("search"),
        fill = FALSE,
        theme = default_vb_theme,
        p("Análise Exploratória entendendo o comportamento das variáveis disponíveis no conjunto de dados.")
    ),

    HTML("<br />"),

    value_box(
        title = "3ª Etapa",
        value = HTML("<a href='https://vflins.github.io/hospitalar_data_ans/pages/modelling_original.html'>Modelagem e testes</a>"),
        showcase = bs_icon("journal-text"),
        fill = FALSE,
        theme = default_vb_theme,
        p("Definição de uma variável-alvo com valor de negócio para operadores de saúde, além da seleção do modelo e das variáveis preditivas.")
    )
)

value_boxes_remake <- list(
    value_box(
        title = "1ª Etapa",
        value = HTML("<a href='https://github.com/VFLins/hospitalar_data_ans/blob/main/notebooks/collect_routine_ans.ipynb'>Coleta de dados</a>"),
        showcase = bs_icon("database-fill-down"),
        fill = FALSE,
        theme = default_vb_theme,
        p("Dados coletados a partir do servidor FTP oficial, múltiplos arquivos .zip foram baixados e extraídos localmente, e em seguida armazenado em um Data Warehouse na nuvem.")
    ),

    HTML("<br />"),

    value_box(
        title = "2ª Etapa (Sem alteração)",
        value = "Análise exploratória de dados",
        showcase = bs_icon("search"),
        fill = FALSE,
        theme = value_box_theme(
            bg = "#242424",
            fg = "#696969"
        ),
        p("Considerando esta etapa satisfatória no projeto original, vamos mantê-la inalterada.")
    ),

    HTML("<br />"),

    value_box(
        title = "3ª Etapa",
        value = "Teste do modelo",
        showcase = bs_icon("check2-square"),
        fill = FALSE,
        theme = default_vb_theme,
        p("Testar o modelo ajustado com a amostra no conjunto de dados mais abrangente e tirar conclusões sobre a sua performance.")
    ),

    HTML("<br />"),

    value_box(
        title = "4ª Etapa",
        value = "Apresentação executiva",
        showcase = bs_icon("file-earmark-slides"),
        fill = FALSE,
        theme = default_vb_theme,
        p("Apresentação de resultados e conquista para stakeholders relevantes para a solução desenvolvida.")
    )
)

layout_column_wrap(
    width = "100%",
    navset_card_tab(
        nav_panel(title = "Original", card(!!!value_boxes_orig)),
        nav_panel(title = "Remake", card(!!!value_boxes_remake)),
  )
  
)
```

#

----------

Você pode querer ver [meus outros projetos](http://sites.google.com/view/vflins/), ou [artigos que tenho escrito](https://sites.google.com/view/vflins/artigos). Se quiser entrar em contato comigo, tente algum destes links:

<center>
    [Linkedin](https://linkedin.com/in/vflins) |
    [Email](mailto:vflins@live.com) |
    [Whatsapp](https://wa.me/558188788208)
</center>

----------
